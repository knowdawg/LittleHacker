[gd_scene load_steps=32 format=3 uid="uid://c8x60h4peckug"]

[ext_resource type="Shader" path="res://Assets/Shaders/ProceduralTexturesShaders/SingleNoiseSDFTextureBackground.gdshader" id="1_3d7l1"]
[ext_resource type="PackedScene" uid="uid://doimwfp7cb8h" path="res://Levels/TestLevels/enviremtal_part_of_envirmental_test.tscn" id="1_b6j48"]
[ext_resource type="PackedScene" uid="uid://d3dlqrfslc2a0" path="res://Player/Player.tscn" id="2_cqdsx"]
[ext_resource type="Texture2D" uid="uid://vv648kcobpoj" path="res://Assets/Sprites/EnvirmentTextures/StonePallete.tres" id="2_jhjfi"]
[ext_resource type="Texture2D" uid="uid://8yaj25wh5jum" path="res://Materials/BrokenBricks.png" id="4_kdadv"]
[ext_resource type="Shader" path="res://Assets/Shaders/Outline.gdshader" id="5_dscvh"]
[ext_resource type="PackedScene" uid="uid://d4jk8bbxbaeki" path="res://Components/SDFandCollitionComponent/SDFandCollition.tscn" id="5_nf44p"]
[ext_resource type="Texture2D" uid="uid://f3g82nbvqcei" path="res://Assets/Sprites/WorldObjects/StiltHouseTest2.png" id="7_8ltoj"]
[ext_resource type="PackedScene" uid="uid://rkf2bgau1n04" path="res://Objects/ShaderObjects/soft_lighting.tscn" id="9_plpma"]
[ext_resource type="PackedScene" uid="uid://ct3iy3bd7qrp8" path="res://UI/CursorFollower/cursor_follower.tscn" id="9_v20c8"]
[ext_resource type="PackedScene" uid="uid://dow45nohhanl5" path="res://Objects/WorldObjects/ProceduralRope/procedural_rope.tscn" id="10_52a1i"]
[ext_resource type="PackedScene" uid="uid://cqfxmyyowlul4" path="res://Objects/Terminal/terminal.tscn" id="10_e4m8l"]
[ext_resource type="PackedScene" uid="uid://ciq13p31itcpw" path="res://Objects/Enemies/TestEnemy/test_enemy.tscn" id="11_jyroq"]
[ext_resource type="Shader" path="res://Assets/Shaders/Filters/ScreenMirroring.gdshader" id="13_mu6m5"]
[ext_resource type="Texture2D" uid="uid://bpeh571apnjq2" path="res://Assets/Sprites/WorldObjects/StiltHouseTest.png" id="13_o8sn2"]
[ext_resource type="FontFile" uid="uid://ntvx3v1fpcia" path="res://UI/5x5PixelFont.ttf" id="16_a5nql"]
[ext_resource type="Script" path="res://UI/FPSDisplay.gd" id="17_spwmn"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_x6hkg"]
shader = ExtResource("1_3d7l1")
shader_parameter/size = Vector2(192, 108)
shader_parameter/noiseResolution = Vector2(64, 64)
shader_parameter/noiseTex = ExtResource("4_kdadv")
shader_parameter/palete = ExtResource("2_jhjfi")

[sub_resource type="Gradient" id="Gradient_8u10m"]
offsets = PackedFloat32Array(1)
colors = PackedColorArray(0.419608, 0.376471, 0.384314, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_mu1s5"]
gradient = SubResource("Gradient_8u10m")
width = 192
height = 108

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2ioux"]
shader = ExtResource("5_dscvh")
shader_parameter/color = Color(0.215686, 0.290196, 0.313726, 1)
shader_parameter/width = 0.0
shader_parameter/pattern = 0
shader_parameter/inside = true
shader_parameter/add_margins = true

[sub_resource type="ViewportTexture" id="ViewportTexture_mjem6"]
viewport_path = NodePath("SubViewport")

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_6t2ub"]
polygon = PackedVector2Array(-115, 17, -26, 17, -26, 57, 21, 57, 125, 57, 125, -23, 205, -23, 205, 169, -339, 169, -339, -23, -306, -23, -306, 41, -226, 41, -226, 113, -83, 113, -83, 74, -211, 74, -211, 57, -195, 57, -195, 41, -115, 41)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_85t5d"]
polygon = PackedVector2Array(72, 32, 104, 32, 104, 40, 72, 40)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_gdmfa"]
polygon = PackedVector2Array(-9, -1, 8, -1, 8, 1, -9, 1)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_coin6"]
polygon = PackedVector2Array(25, -1, 25, 1, -27, 1, -27, -1)

[sub_resource type="Gradient" id="Gradient_j08of"]
interpolation_mode = 2
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_nfx2l"]
gradient = SubResource("Gradient_j08of")
width = 128
height = 128
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.8, 0.8)

[sub_resource type="Gradient" id="Gradient_rrjpo"]
offsets = PackedFloat32Array(0, 0.995)
colors = PackedColorArray(1, 1, 1, 0.392157, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_51qsl"]
gradient = SubResource("Gradient_rrjpo")
width = 16
height = 16
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.8, 0.8)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5x6j7"]
shader = ExtResource("13_mu6m5")

[node name="EnvirmentalTestSallLevel" type="Node2D"]
texture_filter = 1

[node name="CanvasModulate" type="CanvasModulate" parent="."]
visible = false

[node name="ColorRect" type="ColorRect" parent="."]
offset_left = -192.0
offset_top = -128.0
offset_right = 576.0
offset_bottom = 392.0
color = Color(0, 0, 0, 1)

[node name="Background" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_x6hkg")
position = Vector2(192, 108)
texture = SubResource("GradientTexture2D_mu1s5")

[node name="Background2" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_x6hkg")
position = Vector2(0, 108)
texture = SubResource("GradientTexture2D_mu1s5")

[node name="Background3" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_x6hkg")
position = Vector2(-192, 108)
texture = SubResource("GradientTexture2D_mu1s5")

[node name="Background4" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_x6hkg")
position = Vector2(28, 5)
texture = SubResource("GradientTexture2D_mu1s5")

[node name="Background5" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_x6hkg")
position = Vector2(-164, 5)
texture = SubResource("GradientTexture2D_mu1s5")

[node name="SubViewport" type="SubViewport" parent="."]
transparent_bg = true
sdf_oversize = 0
sdf_scale = 0
size = Vector2i(768, 432)

[node name="EnviremtalPartOfEnvirmentalTest" parent="SubViewport" instance=ExtResource("1_b6j48")]

[node name="Envirment" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_2ioux")
position = Vector2(192, 108)
texture = SubResource("ViewportTexture_mjem6")

[node name="Node2D" type="Node2D" parent="Envirment"]

[node name="LightOccluder2D8" parent="Envirment/Node2D" instance=ExtResource("5_nf44p")]
position = Vector2(-45, -33)
occluder = SubResource("OccluderPolygon2D_6t2ub")

[node name="LightOccluder2D9" parent="Envirment/Node2D" instance=ExtResource("5_nf44p")]
position = Vector2(-272, -48)
occluder = SubResource("OccluderPolygon2D_85t5d")

[node name="LightOccluder2D10" parent="Envirment/Node2D" instance=ExtResource("5_nf44p")]
position = Vector2(-320, -48)
occluder = SubResource("OccluderPolygon2D_85t5d")

[node name="LightOccluder2D11" parent="Envirment/Node2D" instance=ExtResource("5_nf44p")]
position = Vector2(-376, -48)
occluder = SubResource("OccluderPolygon2D_85t5d")

[node name="LightOccluder2D12" parent="Envirment/Node2D" instance=ExtResource("5_nf44p")]
position = Vector2(-440, -48)
occluder = SubResource("OccluderPolygon2D_85t5d")

[node name="LightOccluder2D13" parent="Envirment/Node2D" instance=ExtResource("5_nf44p")]
position = Vector2(-49, -11)
occluder = SubResource("OccluderPolygon2D_gdmfa")

[node name="LightOccluder2D14" parent="Envirment/Node2D" instance=ExtResource("5_nf44p")]
position = Vector2(62, -11)
occluder = SubResource("OccluderPolygon2D_gdmfa")

[node name="LightOccluder2D15" parent="Envirment/Node2D" instance=ExtResource("5_nf44p")]
position = Vector2(7, -17)
occluder = SubResource("OccluderPolygon2D_coin6")

[node name="Lights" type="Node2D" parent="."]

[node name="PointLight2D" type="PointLight2D" parent="Lights"]
position = Vector2(188, 118)
color = Color(0.156863, 0.156863, 0.156863, 0)
energy = 0.0
shadow_enabled = true
texture = SubResource("GradientTexture2D_nfx2l")

[node name="Polygon2D" type="Polygon2D" parent="Lights/PointLight2D"]
position = Vector2(-4, -16)
polygon = PackedVector2Array(3, 15, 3, 14, 7, 14, 7, 30, 6, 30, 6, 15)

[node name="Sprite2D" type="Sprite2D" parent="Lights/PointLight2D"]
texture = SubResource("GradientTexture2D_51qsl")

[node name="PointLight2D5" type="PointLight2D" parent="Lights"]
position = Vector2(94, 78)
color = Color(0.156863, 0.156863, 0.156863, 0)
energy = 0.0
shadow_enabled = true
texture = SubResource("GradientTexture2D_nfx2l")

[node name="Polygon2D" type="Polygon2D" parent="Lights/PointLight2D5"]
position = Vector2(-4, -16)
polygon = PackedVector2Array(3, 15, 3, 14, 7, 14, 7, 30, 6, 30, 6, 15)

[node name="Sprite2D" type="Sprite2D" parent="Lights/PointLight2D5"]
texture = SubResource("GradientTexture2D_51qsl")

[node name="PointLight2D6" type="PointLight2D" parent="Lights"]
position = Vector2(12, 78)
color = Color(0.156863, 0.156863, 0.156863, 0)
energy = 0.0
shadow_enabled = true
texture = SubResource("GradientTexture2D_nfx2l")

[node name="Polygon2D" type="Polygon2D" parent="Lights/PointLight2D6"]
position = Vector2(-4, -16)
polygon = PackedVector2Array(3, 15, 3, 14, 7, 14, 7, 30, 6, 30, 6, 15)

[node name="Sprite2D" type="Sprite2D" parent="Lights/PointLight2D6"]
texture = SubResource("GradientTexture2D_51qsl")

[node name="PointLight2D2" type="PointLight2D" parent="Lights"]
position = Vector2(-17, 102)
color = Color(1, 0, 0, 0)
energy = 0.0
shadow_enabled = true
texture = SubResource("GradientTexture2D_nfx2l")

[node name="Polygon2D" type="Polygon2D" parent="Lights/PointLight2D2"]
position = Vector2(-4, -16)
polygon = PackedVector2Array(3, 15, 3, 14, 7, 14, 7, 30, 6, 30, 6, 15)

[node name="Sprite2D" type="Sprite2D" parent="Lights/PointLight2D2"]
texture = SubResource("GradientTexture2D_51qsl")

[node name="PointLight2D3" type="PointLight2D" parent="Lights"]
position = Vector2(-89, 78)
color = Color(0, 1, 0, 0)
energy = 0.0
shadow_enabled = true
texture = SubResource("GradientTexture2D_nfx2l")

[node name="Polygon2D" type="Polygon2D" parent="Lights/PointLight2D3"]
position = Vector2(-4, -16)
polygon = PackedVector2Array(3, 15, 3, 14, 7, 14, 7, 30, 6, 30, 6, 15)

[node name="Sprite2D" type="Sprite2D" parent="Lights/PointLight2D3"]
texture = SubResource("GradientTexture2D_51qsl")

[node name="PointLight2D4" type="PointLight2D" parent="Lights"]
position = Vector2(-58, 118)
color = Color(0, 0, 1, 0)
energy = 0.0
shadow_enabled = true
texture = SubResource("GradientTexture2D_nfx2l")

[node name="Polygon2D" type="Polygon2D" parent="Lights/PointLight2D4"]
position = Vector2(-4, -16)
polygon = PackedVector2Array(3, 15, 3, 14, 7, 14, 7, 30, 6, 30, 6, 15)

[node name="Sprite2D" type="Sprite2D" parent="Lights/PointLight2D4"]
texture = SubResource("GradientTexture2D_51qsl")

[node name="CursorFollower" parent="." instance=ExtResource("9_v20c8")]
visible = false

[node name="PointLight2D5" type="PointLight2D" parent="CursorFollower"]
visible = false
color = Color(0.235294, 0.235294, 0.235294, 0)
energy = 0.0
shadow_enabled = true
texture = SubResource("GradientTexture2D_nfx2l")

[node name="StiltHouseTest" type="Sprite2D" parent="."]
position = Vector2(311, 20)
texture = ExtResource("13_o8sn2")

[node name="ProceduralRope" parent="." node_paths=PackedStringArray("startPoint", "endPoint") instance=ExtResource("10_52a1i")]
ropeColor = Color(0.905882, 0.835294, 0.701961, 1)
numOfRailings = 18
startPoint = NodePath("start")
endPoint = NodePath("end")
numOfSegments = 36.0
ropeDis = 4.0
isColidable = true

[node name="start" type="Marker2D" parent="ProceduralRope"]
position = Vector2(-159, 52)

[node name="end" type="Marker2D" parent="ProceduralRope"]
position = Vector2(32, 92)

[node name="ProceduralRope2" parent="." node_paths=PackedStringArray("startPoint", "endPoint") instance=ExtResource("10_52a1i")]
ropeColor = Color(0.905882, 0.835294, 0.701961, 1)
numOfRailings = 0
startPoint = NodePath("start")
endPoint = NodePath("end")
endPointLocked = false
ropeDis = 2.0

[node name="start" type="Marker2D" parent="ProceduralRope2"]
position = Vector2(142.5, 91)

[node name="end" type="Marker2D" parent="ProceduralRope2"]
position = Vector2(142.5, 130)

[node name="ProceduralRope8" parent="." node_paths=PackedStringArray("startPoint", "endPoint") instance=ExtResource("10_52a1i")]
ropeColor = Color(0.905882, 0.835294, 0.701961, 1)
numOfRailings = 2
startPoint = NodePath("start")
endPoint = NodePath("end")
numOfSegments = 14.0
ropeDis = 1.0
isColidable = true

[node name="start" type="Marker2D" parent="ProceduralRope8"]
position = Vector2(121, 92)

[node name="end" type="Marker2D" parent="ProceduralRope8"]
position = Vector2(134, 96)

[node name="ProceduralRope10" parent="." node_paths=PackedStringArray("startPoint", "endPoint") instance=ExtResource("10_52a1i")]
ropeColor = Color(0.905882, 0.835294, 0.701961, 1)
numOfRailings = 2
startPoint = NodePath("start")
endPoint = NodePath("end")
numOfSegments = 12.0
ropeDis = 2.0
isColidable = true

[node name="start" type="Marker2D" parent="ProceduralRope10"]
position = Vector2(151, 96)

[node name="end" type="Marker2D" parent="ProceduralRope10"]
position = Vector2(172, 90)

[node name="ProceduralRope11" parent="." node_paths=PackedStringArray("startPoint", "endPoint") instance=ExtResource("10_52a1i")]
ropeColor = Color(0.905882, 0.835294, 0.701961, 1)
numOfRailings = 2
startPoint = NodePath("start")
endPoint = NodePath("end")
numOfSegments = 12.0
ropeDis = 2.0
isColidable = true

[node name="start" type="Marker2D" parent="ProceduralRope11"]
position = Vector2(224, 90)

[node name="end" type="Marker2D" parent="ProceduralRope11"]
position = Vector2(245, 96)

[node name="StiltHouseTest2" type="Sprite2D" parent="."]
position = Vector2(166, 100)
texture = ExtResource("7_8ltoj")

[node name="StiltHouseTest3" type="Sprite2D" parent="."]
position = Vector2(230, 100)
texture = ExtResource("7_8ltoj")
flip_h = true

[node name="TestEnemy" parent="." instance=ExtResource("11_jyroq")]
position = Vector2(62, 86)

[node name="TestEnemy2" parent="." instance=ExtResource("11_jyroq")]
position = Vector2(45, 183)

[node name="TestEnemy3" parent="." instance=ExtResource("11_jyroq")]
position = Vector2(-25, 181)

[node name="BackBufferCopy" type="BackBufferCopy" parent="."]
copy_mode = 2

[node name="Player" parent="." instance=ExtResource("2_cqdsx")]
position = Vector2(135, 81)

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(0, -2)
zoom = Vector2(10, 10)
position_smoothing_speed = 10.0

[node name="BackBufferCopy2" type="BackBufferCopy" parent="."]
copy_mode = 2

[node name="SoftLighting" parent="." instance=ExtResource("9_plpma")]
offset_left = 11.0
offset_top = 31.0
offset_right = 203.0
offset_bottom = 139.0

[node name="Terminal" parent="." instance=ExtResource("10_e4m8l")]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="MirrorShader" type="ColorRect" parent="CanvasLayer"]
visible = false
material = SubResource("ShaderMaterial_5x6j7")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="CanvasLayer"]
offset_left = 21.0
offset_right = 102.0
offset_bottom = 34.0
theme_override_fonts/font = ExtResource("16_a5nql")
theme_override_font_sizes/font_size = 50
script = ExtResource("17_spwmn")
